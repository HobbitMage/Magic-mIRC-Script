[aliases]
n0=;###################prefs########################
n1=ctcp.finger.ans { return [ [ %str.finger.ans ] ] }
n2=quit.msg { return [ [ %str.quit.mes ] ] }
n3=
n4=;##################options#######################
n5=;###################mouse########################
n6=click.status { echo %colors.system -t [ [ %str.status.click ] ] }
n7=click.query { whois $1 }
n8=click.channel { channel }
n9=click.nick { nick.insert $1- }
n10=click.notify { whois $1 }
n11=click.mes { whois $1 }
n12=
n13=;##################standarts#####################
n14=whois { .raw whois $$1- $iif((%prefs.whois.show.idle == 1) && (!$2),$$1) }
n15=mcom {
n16=  if ($scon(0) == 1) { $1 $2- | return }
n17=  scid -at1 $1 $2-
n18=}
n19=maway mcom away $1-
n20=mquit mcom quit $1-
n21=mnick mcom nick $1
n22=away { 
n23=  var %state, %awaycmd = %prefs.away.mesmode , %i = 1, %colorchans, %ncolorchans, %awaymes, %color
n24=  if ((!$away) && ($1)) %state = go.away
n25=  if (($away) && ($1)) %state = ch.away
n26=  if ((!$away) && (!$1)) %state = no.away
n27=  if (($away) && (!$1)) %state = re.away
n28=  if ((%state == ch.away) && ($1- == $awaymsg)) %state = nc.away
n29=  if (%awaycmd) {
n30=    while (%i <= $chan(0)) {
n31=      %color = $changet($chan(%i),colors)
n32=      if ((%color == 1) || (((%color == 2) || (%color == $null)) && (c !isincs $chan(%i).mode))) {
n33=        if (!$changet($chan(%i),aways)) %colorchans = $addtok(%colorchans,$chan(%i),44)
n34=      }
n35=      else { if (!$changet($chan(%i),aways)) %ncolorchans = $addtok(%ncolorchans,$chan(%i),44) }
n36=      inc %i
n37=    }
n38=  }
n39=  if (%state == go.away) {
n40=    if (%prefs.away.nickmode == 1) { %oldnick [ $+ [ $cid ] ] = $me | if ($me != %str.away.nick) nick %str.away.nick }
n41=    if (%prefs.away.nickmode == 3) { %oldnick [ $+ [ $cid ] ] = $me | if ($me != %oldnick [ $+ [ $cid ] ] $+ %str.away.end) nick $me $+ %str.away.end }
n42=    if (%prefs.away.nickmode == 2) { %oldnick [ $+ [ $cid ] ] = $me | if ($me != %str.away.pre $+ %oldnick [ $+ [ $cid ] ] ) nick %str.away.pre $+ $me }
n43=    if (%prefs.away.nickmode == 4) { %oldnick [ $+ [ $cid ] ] = $me | if ($me != %str.away.pre $+ %oldnick [ $+ [ $cid ] ]  $+ %str.away.end) nick %str.away.pre $+ $me $+ %str.away.end }
n44=    if (%prefs.away.mes) {
n45=      if ($istok(notice msg,%awaycmd,32)) %awaymes = [ [ %str.away.msg ] ]
n46=      if (%awaycmd == describe) %awaymes = ACTION [ [ %str.away.msg ] ] $+ 
n47=      if (%awaycmd) { 
n48=        %i = 1
n49=        while (%i <= $chan(0)) {
n50=          if ($istok(%colorchans,$chan(%i),44)) echo %colors.info -t $chan(%i) [ [ %str.away.msg ] ]
n51=          else echo %colors.info -t $chan(%i) $strip( [ [ %str.away.msg ] ] )
n52=          inc %i
n53=        }
n54=      }
n55=    }
n56=    if (%prefs.away.echomode != 1) echo %colors.mode -at [ [ %str.away.msg ] ]
n57=    .timeraway $+ $cid 0 $calc(60 * %nums.away.rep.mins) away.rep.msg
n58=  }
n59=  if (%state == re.away) {
n60=    if (%prefs.away.nickmode && (%oldnick [ $+ [ $cid ] ] ) && (%oldnick [ $+ [ $cid ] ] != $me)) { nick %oldnick [ $+ [ $cid ] ] | unset %oldnick [ $+ [ $cid ] ] }
n61=    if (%prefs.away.mes) {
n62=      if ($istok(notice msg,%awaycmd,32)) %awaymes = [ [ %str.away.return ] ]
n63=      if (%awaycmd == describe) %awaymes = ACTION [ [ %str.away.return ] ] $+ 
n64=      if (%awaycmd) { 
n65=        %i = 1
n66=        while (%i <= $chan(0)) {
n67=          if ($istok(%colorchans,$chan(%i),44)) echo %colors.info -t $chan(%i) [ [ %str.away.return ] ]
n68=          else echo %colors.info -t $chan(%i) $strip( [ [ %str.away.return ] ] )
n69=          inc %i
n70=        }
n71=      }
n72=    }
n73=    if (%prefs.away.echomode != 1) echo %colors.mode -at [ [ %str.away.return ] ]
n74=    .timeraway $+ $cid off
n75=  }
n76=  if (%state == ch.away) {
n77=    if (%prefs.away.mes) {
n78=      if ($istok(notice msg,%awaycmd,32)) %awaymes = [ [ %str.away.change ] ]
n79=      if (%awaycmd == describe) %awaymes = ACTION [ [ %str.away.change ] ] $+ 
n80=      if (%awaycmd) { 
n81=        %i = 1
n82=        while (%i <= $chan(0)) {
n83=          if ($istok(%colorchans,$chan(%i),44)) echo %colors.info -t $chan(%i) [ [ %str.away.change ] ]
n84=          else echo %colors.info -t $chan(%i) $strip( [ [ %str.away.change ] ] )
n85=          inc %i
n86=        }
n87=      }
n88=    }
n89=    if (%prefs.away.echomode != 1) echo %colors.mode -at  [ [ %str.away.change ] ]
n90=    .timeraway $+ $cid 0 $calc(60 * %nums.away.rep.mins) away.rep.msg
n91=  }
n92=  if (%state == no.away) {
n93=  }
n94=  if (%state == nc.away) {
n95=    echo %colors.info -at $network $+ : %str.away.nochange
n96=    return
n97=  }
n98=  if (%prefs.away.mes) {
n99=    if (%awaycmd)  {
n100=      if ($istok(describe msg,%awaycmd,32)) %awaycmd = .raw privmsg
n101=      if (%awaycmd == notice) %awaycmd = .raw NOTICE
n102=    }
n103=    if (%colorchans) %awaycmd %colorchans : $+ %awaymes
n104=    if (%ncolorchans) %awaycmd %ncolorchans : $+ $strip(%awaymes)
n105=  }
n106=  .raw away : $+ $1-
n107=}
n108=
n109=away.rep.msg {
n110=  if (!%prefs.away.mesmid || (!$away)) return
n111=  if (%prefs.away.mes) return
n112=  var %awaycmd = %prefs.away.mesmode , %i = 1, %colorchans, %ncolorchans, %awaymes, %color
n113=  if (%awaycmd) {
n114=    while (%i <= $chan(0)) {
n115=      %color = $changet($chan(%i),colors)
n116=      if ((%color == 1) || (((%color == 2) || (%color  == $null)) && (c !isincs $chan(%i).mode))) {
n117=      if (!$changet($chan(%i),aways))  %colorchans = $addtok(%colorchans,$chan(%i),44) }
n118=      else {  if (!$changet($chan(%i),aways))  %ncolorchans = $addtok(%ncolorchans,$chan(%i),44) }
n119=      inc %i
n120=    }
n121=  }
n122=  if ($istok(notice msg,%awaycmd,32)) %awaymes = [ [ %str.away.repeat ] ]
n123=  if (%awaycmd == describe) %awaymes = ACTION [ [ %str.away.repeat ] ] $+ 
n124=  if ($istok(describe msg,%awaycmd,32)) %awaycmd = .raw privmsg
n125=  if (%awaycmd == notice) %awaycmd = .raw NOTICE
n126=
n127=  if (%colorchans) %awaycmd %colorchans : $+ %awaymes
n128=  if (%ncolorchans) %awaycmd %ncolorchans : $+ $strip(%awaymes)
n129=  if ((%colorchans) || (%ncolorchans)) echo -a $iif(%colorchans %ncolorchans,10Об отсутствии сообщено:) $iif(%colorchans,с цветами на %colorchans $+ 10) $iif(%ncolorchans,без цветов на %ncolorchans)
n130=}
n131=
n132=;####################help########################
n133=key.layout {
n134=  window -ak0z @Раскладка
n135=  clear @Раскладка
n136=  aline %colors.system @Раскладка F1 Открыть файл помощи
n137=  aline %colors.system @Раскладка F2
n138=  aline %colors.system @Раскладка F3
n139=  aline %colors.system @Раскладка F4
n140=  aline %colors.system @Раскладка F5 Перемешать строку
n141=  aline %colors.system @Раскладка F6 Сообщение на все открытые каналы
n142=  aline %colors.system @Раскладка F7 Действие (№ник заменяется на выделенный ник)
n143=  aline %colors.system @Раскладка F8 Действие на все каналы
n144=  aline %colors.system @Раскладка F9
n145=  aline %colors.system @Раскладка F10
n146=  aline %colors.system @Раскладка F11
n147=  aline %colors.system @Раскладка F12
n148=  aline %colors.system @Раскладка -
n149=  aline %colors.system @Раскладка Control+F1
n150=  aline %colors.system @Раскладка Control+F2
n151=  aline %colors.system @Раскладка Control+F3
n152=  aline %colors.system @Раскладка Control+F4
n153=  aline %colors.system @Раскладка Control+F5 Пробел после каждой буквы
n154=  aline %colors.system @Раскладка Control+F6
n155=  aline %colors.system @Раскладка Control+F7
n156=  aline %colors.system @Раскладка Control+F8
n157=  aline %colors.system @Раскладка Control+F9 Перевод строки на русский
n158=  aline %colors.system @Раскладка Control+F10 Перевод строки на английский
n159=  aline %colors.system @Раскладка Control+F11
n160=  aline %colors.system @Раскладка Control+F12
n161=  aline %colors.system @Раскладка -
n162=  aline %colors.system @Раскладка Shift+F1
n163=  aline %colors.system @Раскладка Shift+F2
n164=  aline %colors.system @Раскладка Shift+F3
n165=  aline %colors.system @Раскладка Shift+F4
n166=  aline %colors.system @Раскладка Shift+F5 Раскраска строки радугой
n167=  aline %colors.system @Раскладка Shift+F6 Сообщение на все открытые каналы
n168=  aline %colors.system @Раскладка Shift+F7 Действие на канал
n169=  aline %colors.system @Раскладка Shift+F8 Действие на все каналы
n170=  aline %colors.system @Раскладка Shift+F9
n171=  aline %colors.system @Раскладка Shift+F10
n172=  aline %colors.system @Раскладка Shift+F11
n173=  aline %colors.system @Раскладка Shift+F12
n174=}
n175=
n176=key.ascii {
n177=  window -ak0z  @ASCII
n178=  clear @ASCII
n179=  var %i = 0,%str, %j = 1
n180=  while (%i <= 255) {
n181=    ;    %str = %str $chr(127) %i $+ $chr(9) $+ $chr( $+ $iif(!$istok(2 9 22 31,%i,32),%i) $+ ) $+ $chr(9)
n182=    %str = %str  $+ %colors.info $+ $chr(127) $+  $str(0,$calc(4 - $len(%i))) $+ %i $iif(!$istok(0 2 3 9 15 22 31,%i,32), $+ %colors.highlight $+ $chr(%i) $+ , $+ %colors.info $+ -)
n183=    if (%j = 8) { echo %colors.normal @ASCII %str  $+ %colors.info $+ $chr(127) | %str = $null | %j = 0 }
n184=    inc %i | inc %j
n185=  }
n186=  if (%str) echo %colors.normal @ASCII %str
n187=}
